<div class="register-container">
    <div class="register-card">
      <h2 class="text-center mb-4">Kayıt Ol</h2>
      
      @if (errorMessage) {
        <div class="alert alert-danger">{{ errorMessage }}</div>
      }
      
      @if (successMessage) {
        <div class="alert alert-success">{{ successMessage }}</div>
      }
      
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="row mb-3">
          <div class="col">
            <label for="first_name" class="form-label">Ad</label>
            <input 
              type="text" 
              id="first_name"
              formControlName="first_name" 
              class="form-control" 
              [ngClass]="{'is-invalid': form['first_name'].touched && form['first_name'].invalid}"
            />
            <div class="invalid-feedback">Ad alanı gereklidir.</div>
          </div>
          <div class="col">
            <label for="last_name" class="form-label">Soyad</label>
            <input 
              type="text" 
              id="last_name"
              formControlName="last_name" 
              class="form-control" 
              [ngClass]="{'is-invalid': form['last_name'].touched && form['last_name'].invalid}"
            />
            <div class="invalid-feedback">Soyad alanı gereklidir.</div>
          </div>
        </div>
        
        <div class="mb-3">
          <label for="email" class="form-label">E-posta</label>
          <input 
            type="email" 
            id="email"
            formControlName="email" 
            class="form-control" 
            [ngClass]="{'is-invalid': form['email'].touched && form['email'].invalid}"
          />
          <div class="invalid-feedback">
            @if (form['email'].errors?.['required']) {
              E-posta adresi gereklidir.
            }
            @if (form['email'].errors?.['email']) {
              Geçerli bir e-posta adresi girin.
            }
          </div>
        </div>
        
        <div class="mb-3">
          <label for="password" class="form-label">Şifre</label>
          <input 
            type="password" 
            id="password"
            formControlName="password" 
            class="form-control"
            [ngClass]="{'is-invalid': form['password'].touched && form['password'].invalid}"
          />
          <div class="invalid-feedback">
            @if (form['password'].errors?.['required']) {
              Şifre gereklidir.
            }
            @if (form['password'].errors?.['minlength']) {
              Şifre en az 6 karakter olmalıdır.
            }
          </div>
        </div>
        
        <div class="mb-3">
          <label for="phone_number" class="form-label">Telefon (İsteğe Bağlı)</label>
          <input 
            type="tel" 
            id="phone_number"
            formControlName="phone_number" 
            class="form-control"
          />
        </div>
        
        <button 
          type="submit" 
          class="btn btn-primary w-100" 
          [disabled]="registerForm.invalid || isSubmitting"
        >
          @if (isSubmitting) {
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          }
          Kayıt Ol
        </button>
        
        <div class="text-center mt-3">
          <span>Zaten bir hesabınız var mı? </span>
          <a routerLink="/auth/login">Giriş Yap</a>
        </div>
      </form>
    </div>
  </div>