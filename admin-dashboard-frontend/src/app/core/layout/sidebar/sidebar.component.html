<aside class="sidebar" [class.collapsed]="isCollapsed">
  <div class="sidebar-header">
    <a class="logo-container" routerLink="/dashboard">
      <div class="logo">
        <svg width="32" height="32" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="45" fill="#4e73df" />
          <text x="50%" y="55%" text-anchor="middle" fill="#fff" font-size="42" font-family="Arial, sans-serif" dy=".3em">Ã–</text>
        </svg>
      </div>
      <span class="logo-text" *ngIf="!isCollapsed">Admin Panel</span>
    </a>
  </div>

  <div class="sidebar-content">
    <div class="menu-category" *ngIf="!isCollapsed">
      <span class="category-label">MENU</span>
    </div>
    
    <nav class="sidebar-nav">
      <ul class="nav-list">
        <ng-container *ngFor="let item of menuItems">
          <li 
            class="nav-item" 
            *ngIf="hasPermission(item.permission)"
            [class.has-submenu]="item.children"
            [class.expanded]="item.expanded"
          >
            <a 
              [routerLink]="item.children ? null : item.link"
              [routerLinkActive]="item.link && !item.children ? 'active' : ''"
              [class.parent-active]="isParentActive(item)"
              (click)="item.children ? toggleSubMenu(item) : null"
            >
              <div class="nav-icon">
                <i [class]="item.icon"></i>
              </div>
              <span class="nav-title" *ngIf="!isCollapsed">{{ item.title }}</span>
              <span class="nav-indicator" *ngIf="item.children && !isCollapsed">
                <i class="bi" [ngClass]="item.expanded ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
              </span>
            </a>
            
            <div class="tooltip" *ngIf="isCollapsed">{{ item.title }}</div>

            <ul 
              class="submenu" 
              [class.expanded]="item.expanded"
              *ngIf="item.children && !isCollapsed"
            >
              <ng-container *ngFor="let child of item.children">
                <li class="submenu-item" *ngIf="hasPermission(child.permission)">
                  <a 
                    [routerLink]="child.link" 
                    routerLinkActive="active"
                  >
                    <div class="nav-icon">
                      <i [class]="child.icon"></i>
                    </div>
                    <span class="nav-title">{{ child.title }}</span>
                  </a>
                </li>
              </ng-container>
            </ul>
          </li>
        </ng-container>
      </ul>
    </nav>
  </div>

  <div class="sidebar-footer" *ngIf="!isCollapsed">
    <div class="version">
      <span>Version 1.0.0</span>
    </div>
  </div>
</aside>